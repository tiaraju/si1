<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<body bgcolor="#F0F0F0">
	<div>
		<ui:define name="Task List"></ui:define>
		<h:form>
			<fieldset>
				<h:head>
					<center>
						<h1>Task List</h1>

					</center>
				</h:head>
				<h:form>
				
				<h:commandButton value="Nova Tarefa" action="#{taskbean.addTarefa}" styleClass="avesettings" rendered="true" update="growl"> 
			</h:commandButton>

				<h:commandButton value="Remover Tarefa"
					action="#{taskbean.removeTask}"></h:commandButton>

				<h:commandButton value="Editar Tarefa"
					action="#{taskbean.editTask}"></h:commandButton>

				<h:commandButton value="Concluir Tarefa"
					action="#{taskbean.setStatus}"></h:commandButton>
					<p:dataTable var="tarefa" value="#{taskbean.controller.tarefas}"
						rowKey="#{tarefa.nome}" selection="#{taskbean.tarefa}"
						selectionMode="single">
						<p:column headerText="Tarefa">
							<h:outputText value="#{tarefa.nome}" />
						</p:column>

						<p:column headerText="Descricao">
							<h:outputText value="#{tarefa.descricao}" />
						</p:column>

						<p:column headerText="Data de Criacao">
							<h:outputText value="#{tarefa.dataCriacao}" />
						</p:column>
						<p:column headerText="Concluido">
							<h:outputText value="#{tarefa.status}" />
						</p:column>

						<p:column headerText="Data de Conclusao">
							<h:outputText value="#{tarefa.dataConclusao}" />
						</p:column>

						<p:column headerText="Hora de Conclusao">
							<h:outputText value="#{tarefa.horaConclusao}" />
						</p:column>

					</p:dataTable>
				</h:form>
				<br />
				<p:selectOneMenu value="#{taskbean.ordenacao}">
					<f:selectItem itemValue="" itemLabel="Ordenar:" />
					<f:selectItem itemValue="dataCriacao" itemLabel="Data de criacao" />
					<f:selectItem itemValue="dataConclusao"
						itemLabel="Data de conclusao" />
				</p:selectOneMenu>
				<h:commandButton value="Ordenar" action="#{taskbean.sort}" />

				<br /> <br />
			</fieldset>
			<p:growl id="growl" showDetail="true" sticky="true" life="5" />
		</h:form>

		<br />
		<br />

		<h:form>
			<fieldset>
				<h:head><center>
					<h1>Tarefas Completadas</h1>
				</center></h:head>
				<h:form>

					<p:dataTable var="task"
						value="#{taskbean.controller.tarefasCompletas}"
						rowKey="#{tarefa.nome}" selection="#{taskbean.tarefa}"
						selectionMode="single">
						<p:column headerText="Tarefa">
							<h:outputText value="#{task.nome}" />
						</p:column>

						<p:column headerText="Descricao">
							<h:outputText value="#{task.descricao}" />
						</p:column>

						<p:column headerText="Data da Criacao">
							<h:outputText value="#{task.dataCriacao}" />
						</p:column>

						<p:column headerText="Data da Conclusao">
							<h:outputText value="#{task.dataConclusao}" />
						</p:column>

						<p:column headerText="Hora da Conclusao">
							<h:outputText value="#{task.horaConclusao}" />
						</p:column>


					</p:dataTable>
					<p:selectOneMenu value="#{taskbean.ordenacao}">
						<f:selectItem itemValue="" itemLabel="Ordenar:" />
						<f:selectItem itemValue="dataCriacao" itemLabel="Data de criaÃ§Ã£o" />
						<f:selectItem itemValue="dataConclusao"
							itemLabel="Data de conclusao" />
					</p:selectOneMenu>
					<h:commandButton value="Ordenar"
						action="#{taskbean.sortCompletedTasks}"></h:commandButton>
				</h:form>
				<br /> <br />
			</fieldset>
		</h:form>

	</div>
</body>
</html>